# QuickPasteEditor 使用说明

## 简介

QuickPasteEditor 是一款轻量级的 macOS 剪贴板管理与文本编辑器,提供剪贴板历史记录管理、富文本预览和快速文本编辑功能。

## 主要功能

### 1. 剪贴板历史管理
- 自动监控系统剪贴板,实时捕获复制内容
- 支持最多保存 200 条历史记录
- 自动去重,相同内容只保留最新一条
- 历史记录持久化存储,重启后自动恢复

### 2. 多格式支持
- 纯文本 (Plain Text)
- 富文本 (RTF/RTFD)
- 图片 (PNG/TIFF)

### 3. 文本编辑
- 实时字数统计
- 实时行数统计
- 可调节字体大小 (10-36pt)
- 支持所有标准文本编辑操作

### 4. 预览功能
- 富文本格式预览(保留样式)
- 图片缩放预览
- 可调节预览窗口高度

## 界面布局

```
┌─────────────────────────────────────────────────────────┐
│  工具栏: [粘贴] [复制] [复制选中] [删除] [清空] [字体] │
├──────────┬──────────────────────────────────────────────┤
│          │              预览区域                         │
│          │  (富文本/图片预览,可拖拽调整高度)             │
│  历史    ├──────────────────────────────────────────────┤
│  记录    │                                               │
│  列表    │            文本编辑区域                        │
│          │                                               │
│          │                                               │
└──────────┴──────────────────────────────────────────────┘
```

## 功能详解

### 工具栏按钮

| 按钮 | 图标 | 功能说明 |
|------|------|----------|
| 粘贴 | 📋 | 从系统剪贴板粘贴纯文本到编辑器 |
| 复制 | 📄 | 将编辑器内容复制到系统剪贴板 |
| 复制选中记录 | 📋 | 将选中历史记录(含富文本/图片)写回剪贴板 |
| 删除记录 | 🗑️ | 删除当前选中的历史记录 |
| 清空历史 | 🗑️ | 清空所有历史记录 |
| 字体大小 | 🔠 | 调整编辑器字体大小(10-36pt) |

### 历史记录列表

- 左侧显示所有剪贴板历史
- 每条记录显示:
  - 内容预览(前两行)
  - 复制时间(HH:mm:ss)
- 点击记录可在右侧查看完整内容
- 支持键盘 Delete 键删除选中记录

### 预览区域

- 显示选中历史记录的完整内容
- 富文本保留格式和样式
- 图片自动缩放以适应窗口
- 拖拽分隔条可调整预览区域高度(120-420px)

### 文本编辑区

- 点击历史记录自动加载到编辑器
- 支持标准文本编辑操作
- 实时显示字数和行数统计
- 可自由修改编辑内容

## 使用场景

### 场景1: 快速文本编辑
1. 复制需要编辑的文本
2. 应用自动捕获到历史列表
3. 点击记录,内容加载到编辑器
4. 编辑修改
5. 点击"复制"按钮将结果复制回剪贴板

### 场景2: 剪贴板历史查看
1. 在历史列表中浏览之前复制的内容
2. 点击任意记录查看完整内容
3. 点击"复制选中记录"恢复到剪贴板

### 场景3: 富文本和图片管理
1. 复制富文本或图片
2. 在历史列表中查看所有复制过的内容
3. 点击记录在预览区查看格式化内容
4. 使用"复制选中记录"恢复富文本或图片到剪贴板

## 快捷操作

- **Delete 键**: 删除选中的历史记录
- **上下箭头**: 在历史列表中快速切换
- **拖拽分隔条**: 调整预览区域高度

## 数据存储

历史记录自动保存到以下位置之一:
- `~/Library/Application Support/<BundleID>/clipboard-history.json`
- `~/Library/Application Support/QuickPasteEditor/clipboard-history.json`
- `~/.quickpasteeditor/clipboard-history.json`

应用会自动创建必要的目录,无需手动配置。

## 系统要求

- macOS 14.0 (Sonoma) 或更高版本
- Xcode 15.0+ 或 Xcode Command Line Tools

## 注意事项

1. **隐私**: 应用仅在本地存储剪贴板历史,不会上传任何数据
2. **性能**: 最多保存 200 条历史记录,超出自动清理最旧记录
3. **去重**: 相同内容会自动去重,只保留最新复制时间
4. **监控频率**: 每 0.8 秒检查一次剪贴板变化,兼顾性能和实时性

## 常见问题

### Q: 历史记录丢失?
A: 历史记录自动保存,重启应用会自动恢复。如果丢失,请检查是否有文件权限问题。

### Q: 为什么有些内容没有被捕获?
A: 应用仅支持纯文本、RTF/RTFD 富文本和 PNG/TIFF 图片。其他格式暂不支持。

### Q: 如何清空所有历史?
A: 点击工具栏的"清空历史"按钮,或手动删除历史文件。

### Q: 应用占用空间过大?
A: 历史记录保存在 JSON 文件中,图片会占用较多空间。定期点击"清空历史"可释放空间。

## 技术支持

如有问题或建议,请访问项目 GitHub 页面提交 Issue。
